import{j as e,y as b,R as j}from"./react-vendor-beP3-oeF.js";import{c as N}from"./App-D9rq7vwH.js";import{S as g}from"./scroll-area-DdBFwWPj.js";import{B as k}from"./button-tpYM4YB8.js";import{J as u}from"./vendor-iUNuxV62.js";import"./ui-vendor-BA32w1ww.js";import"./index-DwsVtboe.js";const v=({output:i,className:m})=>{const d=()=>{navigator.clipboard.writeText(i).then(()=>{u.success("Output copied to clipboard")}).catch(()=>{u.error("Failed to copy output")})},h=a=>a?a.split(`
`).map((s,t)=>s.includes("|")&&/\s[+-]+$/.test(s)?p(s,t):s.includes("insertions(+)")||s.includes("deletions(-)")||s.includes("files changed")?f(s,t):s.includes("new file mode")?e.jsx("span",{className:"block",children:e.jsx("span",{className:"text-[#7ce77c]",children:s})},t):s.includes("delete mode")?e.jsx("span",{className:"block",children:e.jsx("span",{className:"text-[#ea384c]",children:s})},t):s.includes("binary file")&&s.includes("changed")?e.jsx("span",{className:"block",children:s.split("changed").map((c,r)=>e.jsxs(j.Fragment,{children:[c,r===0&&e.jsx("span",{className:"text-[#FEF7CD]",children:"changed"})]},`bin-${r}`))},t):s.startsWith("+")||s.includes("+++++")?e.jsx("span",{className:"text-[#7ce77c] block",children:s},t):s.includes("Already up to date")?e.jsx("span",{className:"text-[#7ce77c] block font-medium",children:s},t):s.includes("Switched to branch")?e.jsx("span",{className:"text-[#7ce77c] block font-medium",children:s},t):s.includes("Your branch is up to date with")?e.jsx("span",{className:"text-[#7ce77c] block font-medium",children:s},t):s.startsWith("-")||s.includes("-----")?e.jsx("span",{className:"text-[#ea384c] block",children:s},t):s.includes("D	")?e.jsx("span",{className:"text-[#ea384c] block font-medium",children:s},t):s.includes("Deleted branch")?e.jsx("span",{className:"text-[#ea384c] block font-medium",children:s},t):s.includes("deprecated branches removed")?e.jsx("span",{className:"text-[#ea384c] block font-medium",children:s},t):s.includes("error:")||s.includes("fatal:")?e.jsx("span",{className:"text-[#ea384c] block font-medium",children:s},t):s.includes("would be overwritten by merge")?e.jsx("span",{className:"text-[#ea384c] block font-medium",children:s},t):s.includes("M	")?e.jsx("span",{className:"text-[#FEF7CD] block font-medium",children:s},t):e.jsx("span",{className:"block",children:s},t)):e.jsx("span",{className:"text-gray-500 italic",children:"No output to display"}),p=(a,s)=>{const t=a.split("|");if(t.length<2)return e.jsx("span",{className:"block",children:a},s);const c=t[0];let r=t[1];const l=r.search(/[+-]/);if(l===-1)return e.jsx("span",{className:"block",children:a},s);const o=r.substring(0,l),n=r.substring(l);return e.jsxs("span",{className:"block",children:[c,"|",o,x(n)]},s)},f=(a,s)=>{let t=[],c=0;const r=a.match(/(\d+)\s+files?\s+changed/);if(r){const n=a.indexOf(r[0]);t.push(e.jsx("span",{children:a.substring(c,n)},`${s}-changed-before`),e.jsx("span",{className:"text-[#FEF7CD]",children:r[0]},`${s}-changed`)),c=n+r[0].length}const l=a.match(/(\d+)\s+insertions?\(\+\)/);if(l){const n=a.indexOf(l[0],c);t.push(e.jsx("span",{children:a.substring(c,n)},`${s}-insert-before`),e.jsx("span",{className:"text-[#7ce77c]",children:l[0]},`${s}-insert`)),c=n+l[0].length}const o=a.match(/(\d+)\s+deletions?\(-\)/);if(o){const n=a.indexOf(o[0],c);t.push(e.jsx("span",{children:a.substring(c,n)},`${s}-delete-before`),e.jsx("span",{className:"text-[#ea384c]",children:o[0]},`${s}-delete`)),c=n+o[0].length}return c<a.length&&t.push(e.jsx("span",{children:a.substring(c)},`${s}-remaining`)),t.length===0?e.jsx("span",{className:"block",children:a},s):e.jsx("span",{className:"block",children:t})},x=a=>{let s=[],t=null,c="";for(let r=0;r<a.length;r++){const l=a[r];l==="+"?t!=="plus"?(c&&s.push(e.jsx("span",{className:t==="minus"?"text-[#ea384c]":"",children:c},`sym-${r}`)),t="plus",c=l):c+=l:l==="-"?t!=="minus"?(c&&s.push(e.jsx("span",{className:t==="plus"?"text-[#7ce77c]":"",children:c},`sym-${r}`)),t="minus",c=l):c+=l:(c&&s.push(e.jsx("span",{className:t==="plus"?"text-[#7ce77c]":t==="minus"?"text-[#ea384c]":"",children:c},`sym-${r}`)),t=null,c=l)}return c&&s.push(e.jsx("span",{className:t==="plus"?"text-[#7ce77c]":t==="minus"?"text-[#ea384c]":"",children:c},"sym-last")),s};return e.jsxs("div",{className:N("w-full flex flex-col",m),children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Command Output"}),e.jsx(k,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:d,disabled:!i,title:"Copy to clipboard",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsx(g,{className:"flex-1 rounded-md",children:e.jsx("pre",{className:"git-output text-sm p-4 whitespace-pre-wrap h-full",children:h(i)})})]})};export{v as default};
